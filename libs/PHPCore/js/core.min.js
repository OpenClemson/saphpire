function closeMenus(){$(".menu").menu("collapseAll",null,!0).hide()}function reloadPage(){self.location.reload()}function openTab(e,t){return $(e).tabs("option","active",t),!1}function getScriptVariable(e,t){var i,n,o,a=document.getElementsByTagName("script"),r=a.length;for(n=0;r>n;n++)if(i=a[n].src,i.indexOf(e)>=0){o=new RegExp("[\\?&]"+t+"=([^&#]*)");var c=o.exec(i);return c[1]}}function isEmpty(e){return""==e||"undefined"==typeof e}function fieldIsEmpty(e){var t=$(e).val();return isEmpty(t)}function isChkd(e){return $(e).prop("checked")}function html5required(e){var t,i=!0;return $(e+' *[required="required"]').each(function(){t=$(this).attr("name"),isEmpty(e+' [name="'+t+'"]')?($(this).addClass("field-invalid"),i=!1):$(this).removeClass("field-invalid")}),i}function serializeForm(e){$(e).data("serialize",$(e).serialize())}function formChanged(e){var t=!1;$(e).serialize()!=$(e).data("serialize")&&(t=!0),t&&0==$(e).find('input[name="form-modified"]').length&&$(e).prepend($('<input type="hidden" name="form-modified" value="true" />'))}function countChars(e){var t=e.attr("rel").split(" "),i=t[0],n=t[1],o=e.val().length;if(o>i)e.val(e.val().substr(0,i));else{var a=i-o;$("#"+n).text(a+" chars")}}function countWords(e){var t,i,n,o,a;if(t=e.attr("rel").split(" "),i=t[0],n=$.trim(e.val()).split(" "),o=n.length,o>i){o-=o-i,a="";for(var r=0;o>r;r++)a=a+n[r]+" ";e.val(a),$("#"+t[1]).addClass("label-important")}else o=i-o,$("#"+t[1]).text(o+" words"),$("#"+t[1]).removeClass("label-important")}var jui;jui=new Object,jui={animate:{height:{show:{height:"show",paddingTop:"show",paddingBottom:"show",marginBottom:"show",marginTop:"show",border:"show"},hide:{height:"hide",paddingTop:"hide",paddingBottom:"hide",marginTop:"hide",marginBottom:"hide",border:"hide"}},width:{show:{width:"show",paddingLeft:"show",paddingRight:"show",marginLeft:"show",marginBottom:"show",border:"show"},hide:{width:"hide",paddingLeft:"hide",paddingRight:"hide",marginLeft:"hide",marginRight:"hide",border:"hide"}}},msg:{ajaxFail:"Ajax request failed. Please contact system administrator.",loading:"Loading, please wait..."}},$(document).ready(function(){var e="undefined"!=typeof app.base?app.base:"../";(new Image).src=e+"libs/PHPCore/img/loading.gif",$(".alert > .close").click(function(e){e.preventDefault(),$(this).parent().animate(jui.animate.height.hide,"fast",function(){$(this).hide()})}),$(".tip").tooltip(),$(".rf").click(function(e){return e.preventDefault(),!1}),$(".print").click(function(){return confirm("Are you sure you want to print?")&&window.print(),!1}),$(".confirm").click(function(){return confirm("Are you sure you want to continue?")}),$('input[type="reset"]').click(function(){return confirm("Are you sure you want to reset this form?\nYou will lose all unsaved changes.\nThis cannot be undone.")}),$(".back").click(function(){window.history.go(-1)}),$(".check-all").change(function(){var e,t,i,n;e=$(this),t=e.attr("name"),i=e.closest("form").attr("id"),n="form#"+i+' input[type="checkbox"][name="'+t+'"]',$(n).each(function(){e=$(this),e.hasClass("check-all")||e.prop("checked",e.is(":checked")?!1:!0)})}),$("label.dblclick").click(function(){var e=$(this).prev().prop("checked");$(this).prev().prop("checked",e?!1:!0)}),$(".click-select").focus(function(){$(this).select()}).click(function(){$(this).select()}),$(".dialog").hide(),$('[rel="dialog"]').click(function(e){e.preventDefault();var t,i,n,o,a;t=$(this),i=t.attr("data-dialog"),oDialog=$("#"+i),n=oDialog.attr("data-height"),o=oDialog.attr("data-width"),a="true"==oDialog.attr("data-modal")?!0:!1,isEmpty(n)&&(n=300),isEmpty(o)&&(o=300),oDialog.dialog({autoOpen:!0,height:n,width:o,modal:a,close:function(){$(this).dialog("destroy")}})}),$(".menu").menu(),closeMenus(),$("html").click(function(){closeMenus()}),$("[data-menu]").click(function(e){e.preventDefault(),e.stopPropagation();var t,i,n;n=$(this),i=n.attr("data-menu"),t=$("#"+i),closeMenus(),t.animate({height:"toggle"},"fast")}),$(".countchars").each(function(){countChars($(this))}),$(".countchars").keyup(function(){countChars($(this))}),$(".countwords").each(function(){countWords($(this))}),$(".countwords").keyup(function(){countWords($(this))})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return c.raw?e:encodeURIComponent(e)}function i(e){return c.raw?e:decodeURIComponent(e)}function n(e){return t(c.json?JSON.stringify(e):String(e))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(r," ")),c.json?JSON.parse(e):e}catch(t){}}function a(t,i){var n=c.raw?t:o(t);return e.isFunction(i)?i(n):n}var r=/\+/g,c=e.cookie=function(o,r,s){if(void 0!==r&&!e.isFunction(r)){if(s=e.extend({},c.defaults,s),"number"==typeof s.expires){var d=s.expires,u=s.expires=new Date;u.setTime(+u+864e5*d)}return document.cookie=[t(o),"=",n(r),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var l=o?void 0:{},h=document.cookie?document.cookie.split("; "):[],f=0,p=h.length;p>f;f++){var m=h[f].split("="),g=i(m.shift()),$=m.join("=");if(o&&o===g){l=a($,r);break}o||void 0===($=a($))||(l[g]=$)}return l};c.defaults={},e.removeCookie=function(t,i){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},i,{expires:-1})),!e.cookie(t))}});